---
import { personalInfo } from '../data/portfolio';
---

<section id="hero" class="h-screen w-full flex flex-col items-center justify-center text-center relative overflow-hidden luxury-bg-gradient">
  <div class="relative z-10 px-6 max-w-5xl mx-auto">
    <div id="profile-image" class="mb-12 relative overflow-hidden rounded-full w-64 h-64 mx-auto border-4 cursor-pointer luxury-hover" style="border-color: #e5e5e5; box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);">
      <img 
        src="/image/ian-foto.png" 
        alt="Manuel Paniagua - Profile Photo" 
        class="w-full h-full object-cover"
        style="object-position: center top; image-rendering: -webkit-optimize-contrast; image-rendering: smooth; transform: translateZ(0); backface-visibility: hidden; will-change: transform; filter: brightness(1.05) contrast(1.1) saturate(0.9);"
      />
      <!-- Efecto de brillo sutil en el borde -->
      <div class="absolute inset-0 rounded-full" style="background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);"></div>
    </div>
    
    <h1 id="hero-title" class="text-5xl md:text-7xl font-luxury font-bold mb-6 animate-title luxury-title">
      {personalInfo.name}
    </h1>
    
    <p id="hero-subtitle" class="text-xl md:text-2xl mb-4 max-w-2xl mx-auto animate-subtitle luxury-subtitle">
      Fachinformatiker Anwendungsentwicklung
    </p>
    <p id="hero-subtitle-2" class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto animate-subtitle luxury-subtitle">
      Full Stack Developer
    </p>
    
    <div class="flex flex-wrap justify-center gap-4 mb-10">
      <a href="/Lebenslauf_Paniagua.pdf" download="Lebenslauf_Paniagua.pdf" class="btn-primary">
        <i class="fas fa-download"></i>
        <span>Lebenslauf herunterladen</span>
      </a>
      <a href={personalInfo.linkedin} target="_blank" class="btn-secondary">
        <i class="fab fa-linkedin"></i>
        <span>LinkedIn</span>
      </a>
      <a href={personalInfo.github} target="_blank" class="btn-secondary">
        <i class="fab fa-github"></i>
        <span>GitHub</span>
      </a>
    </div>
    
    <p class="text-sm text-luxury-gray mb-2">
      <i class="fas fa-map-marker-alt mr-2 luxury-accent"></i>
      {personalInfo.address}
    </p>
    
    <p class="text-sm text-luxury-gray mb-8">
      <i class="far fa-envelope mr-2 luxury-accent"></i>
      {personalInfo.email}
    </p>
  </div>
  
  <div id="scroll-indicator" class="absolute bottom-4 left-1/2 -translate-x-1/2 animate-bounce luxury-accent">
    <svg 
      xmlns="http://www.w3.org/2000/svg" 
      width="48" 
      height="48" 
      viewBox="0 0 24 24" 
      fill="none" 
      stroke="currentColor" 
      stroke-width="2" 
      stroke-linecap="round" 
      stroke-linejoin="round"
      style="filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.5));"
    >
      <path d="M12 5v14M5 12l7 7 7-7"/>
    </svg>
  </div>
  
  <!-- Background gradient effect mejorado para fondo blanco -->
  <div class="absolute inset-0 z-0" style="background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(250,250,250,0.3) 50%, rgba(255,255,255,0.9) 100%);"></div>
  
  <!-- Efectos de partÃ­culas doradas -->
  <div class="absolute inset-0 z-0 overflow-hidden">
    <div class="absolute top-20 left-10 w-2 h-2 bg-luxury-gold rounded-full opacity-60 animate-pulse" style="animation-delay: 0s;"></div>
    <div class="absolute top-40 right-20 w-1 h-1 bg-luxury-gold rounded-full opacity-40 animate-pulse" style="animation-delay: 1s;"></div>
    <div class="absolute bottom-40 left-20 w-1.5 h-1.5 bg-luxury-gold rounded-full opacity-50 animate-pulse" style="animation-delay: 2s;"></div>
    <div class="absolute top-60 left-1/4 w-1 h-1 bg-luxury-gold rounded-full opacity-30 animate-pulse" style="animation-delay: 3s;"></div>
  </div>
</section>

<style>
  .animate-title {
    opacity: 0;
    transform: translateY(30px);
  }
  
  .animate-subtitle {
    opacity: 0;
    transform: translateY(30px);
  }
  
  .animate-bounce {
    animation: bounce 2s infinite;
  }
  
  /* Improved image quality during scaling */
  #profile-image {
    will-change: transform, width, height;
    transform: translateZ(0);
  }
  
  #profile-image img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: smooth;
    transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    filter: brightness(1.05) contrast(1.1) saturate(0.9);
  }
  
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0) translateX(-50%);
    }
    40% {
      transform: translateY(-20px) translateX(-50%);
    }
    60% {
      transform: translateY(-10px) translateX(-50%);
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Initial animations
    const title = document.getElementById('hero-title');
    const subtitle = document.getElementById('hero-subtitle');
    const profileImage = document.getElementById('profile-image');
    const scrollIndicator = document.getElementById('scroll-indicator');
    
    if (title) {
      title.style.opacity = '1';
      title.style.transform = 'translateY(0)';
      title.style.transition = 'opacity 1s ease, transform 1s ease';
    }
    
    if (subtitle) {
      setTimeout(() => {
        subtitle.style.opacity = '1';
        subtitle.style.transform = 'translateY(0)';
        subtitle.style.transition = 'opacity 1s ease, transform 1s ease';
      }, 300);
    }
    
    // Animate second subtitle
    const subtitle2 = document.getElementById('hero-subtitle-2');
    if (subtitle2) {
      setTimeout(() => {
        subtitle2.style.opacity = '1';
        subtitle2.style.transform = 'translateY(0)';
        subtitle2.style.transition = 'opacity 1s ease, transform 1s ease';
      }, 600);
    }
    
    // Apply transitions to the profile image
    if (profileImage) {
      profileImage.style.transition = 'all 0.5s ease';
      
      // Add click event to scroll to top
      profileImage.addEventListener('click', () => {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    }
    
    // Scroll animations
    window.addEventListener('scroll', () => {
      const scrollPosition = window.scrollY;
      const windowHeight = window.innerHeight;
      
      // Profile image animation - move to left side and shrink
      if (profileImage) {
        // Calculate progress of scroll (0 to 1)
        const progress = Math.min(scrollPosition / (windowHeight * 0.5), 1);
        
        if (scrollPosition < 50) {
          // At top of page - reset to original position
          profileImage.style.position = 'relative';
          profileImage.style.top = 'auto';
          profileImage.style.left = 'auto';
          profileImage.style.transform = 'translateX(0) scale(1)';
          profileImage.style.marginBottom = '3rem';
          profileImage.style.zIndex = '10';
          profileImage.style.width = '16rem';
          profileImage.style.height = '16rem';
        } else if (progress < 1) {
          // Transitioning - move left and shrink
          const translateX = -40 * progress; // percentage of viewport width
          const scale = 1 - (0.4 * progress); // scale down to 60% of original size
          
          // Apply transformations during transition
          profileImage.style.position = 'relative';
          profileImage.style.transform = `translateX(${translateX}vw) scale(${scale})`;
          profileImage.style.marginBottom = '3rem';
        } else {
          // Fully scrolled - fix to top left
          profileImage.style.position = 'fixed';
          profileImage.style.top = '20px';
          profileImage.style.left = '20px';
          profileImage.style.width = '64px';
          profileImage.style.height = '64px';
          profileImage.style.marginBottom = '0';
          profileImage.style.zIndex = '100';
          profileImage.style.transform = 'none';
        }
      }
      
      // Fade out title and subtitle based on scroll
      if (title && subtitle) {
        const fadeOutProgress = Math.min(scrollPosition / (windowHeight * 0.3), 1);
        const opacity = 1 - fadeOutProgress;
        
        title.style.opacity = opacity.toString();
        subtitle.style.opacity = opacity.toString();
        
        // Also fade out second subtitle
        if (subtitle2) {
          subtitle2.style.opacity = opacity.toString();
        }
      }
      
      // Fade out scroll indicator
      if (scrollIndicator && scrollPosition > 50) {
        scrollIndicator.style.opacity = '0';
      } else if (scrollIndicator) {
        scrollIndicator.style.opacity = '1';
      }
    });
  });
</script> 